(this["webpackJsonpgonarrivi-sandbox"]=this["webpackJsonpgonarrivi-sandbox"]||[]).push([[0],{188:function(e,t,n){e.exports=n.p+"static/media/home-banner.562d3555.jpg"},189:function(e,t,n){e.exports=n.p+"static/media/home-avatar.6bd34b32.jpeg"},201:function(e,t,n){e.exports=n(376)},373:function(e,t){},376:function(e,t,n){"use strict";n.r(t);var a,r=n(16),c=n(6),o=n(19),l=n(0),i=n.n(l),u=n(12),s=n.n(u),m=n(26),h=n(195),d=n(7),f=n(65),g=n(377),p=n(41);function b(){var e=Object(c.a)(["flex: 0 0 auto; width: ","%;"]);return b=function(){return e},e}function v(){var e=Object(c.a)(["\n  ","\n  display: block;\n  overflow: auto;\n  box-sizing: border-box;\n  ",";\n"]);return v=function(){return e},e}function E(){var e=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  overflow: hidden;\n"]);return E=function(){return e},e}function y(){var e=Object(c.a)(["\n  cursor: pointer;\n  ","\n  border-radius: 4px;\n  padding: 2px 7px;\n  text-transform: uppercase;\n  line-height: 12px;\n  font-family: ",";\n  transition: all 200ms ease-in;\n"]);return y=function(){return e},e}function O(){var e=Object(c.a)(["\n  padding: ","px;\n  ","\n"]);return O=function(){return e},e}var x={primary:"blue",textOverPrimary:"white",secondary:"violet",textOverSecondary:"white",fontFamily:"'Roboto', sans-serif"},j=function(e){return"column"===e?"top":"left"},k=Object(d.c)(g.a)(O(),(function(e){return e.compact?8:16}),(function(e){var t=e.layout,n=void 0===t?"column":t,a=e.separation,r=void 0===a?8:a;return n?"\n  display: flex;\n  flex-direction: ".concat(n,";\n  > *:first-child {\n    margin-").concat(j(n),": 0;\n  }\n  ").concat(r?"\n  > *:not(:first-child) {\n    margin-".concat(j(n),": ").concat(r,"px;\n  "):"","}\n"):""})),C=d.c.button(y(),(function(e){var t=e.primary,n=e.secondary,a=e.theme,c=t?[a.primary,a.textOverPrimary,""]:n?[a.secondary,a.textOverSecondary,""]:["",a.primary,a.primary],o=Object(r.a)(c,3),l=o[0],i=o[1],u=o[2];return"\n  background-color: ".concat(l||"transparent",";\n  color: ").concat(i,";\n  border: ").concat(u?"2px solid ".concat(u):"0",";\n  :hover, :focus {\n    ").concat(l?"background-color: ".concat(Object(p.a)(.2,l),";"):"","\n    ").concat(i?"color: ".concat(Object(p.a)(.2,i),";"):"","\n    ").concat(u?"border-color: ".concat(Object(p.a)(.2,u),";"):"","\n  }\n  :disabled {\n    cursor: not-allowed;\n    ").concat(l?"background-color: ".concat(Object(p.c)(.3,l),";"):"","\n    ").concat(i?"color: ".concat(Object(p.c)(.3,i),";"):"","\n    ").concat(u?"border-color: ".concat(Object(p.c)(.3,u),";"):"","\n  }\n      ")}),(function(e){return e.theme.fontFamily}));C.defaultProps={theme:x};d.c.div(E());var S="xs",w="md",M="lg",_=(a={},Object(f.a)(a,S,1),Object(f.a)(a,w,2),Object(f.a)(a,M,3),a);var A={};function I(e){if(!A[e]){var t=function(e){var t=function(){switch(e){case S:return"max-width: 767px";case w:return"min-width: 768px";case M:return"min-width: 992px";default:return""}}();return t&&"@media screen and (".concat(t,")")}(e);A[e]=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return[t?t+" {\n":"",e.reduce((function(e,t,n){return"".concat(e).concat(t).concat(n<a.length?a[n]:"")}),""),t?"\n}":""].join("")}}return A[e]}var R,T=/^col-(\d+)(-(xs|md|lg))?$/,B=(R="div",Object(d.c)(R)(v(),(function(e){var t=e.color;return"background-color: ".concat(t,";")}),(function(e){var t=Object.keys(e).reduce((function(e,t){var n=T.exec(t);if(n){var a=n[1],r=n[3],c=I(r)(b(),a/12*100);e.push({cssRule:c,ruleOrder:_[r]||0})}return e}),[]).sort((function(e,t){return e.ruleOrder-t.ruleOrder}));return"\n      flex: ".concat(t.some((function(e){return 0===e.ruleOrder}))?"0 0 auto":"1 1 auto",";\n      ").concat(t.map((function(e){return e.cssRule})).join("\n"),"\n    ")})),n(414)),N=n(420),P=n(423),L=n(413),H=n(424),D=n(415),F=n(409),z=n(416),U=n(188),V=n.n(U),J=n(189),G=n.n(J);var q=function(){return l.createElement(k,null,l.createElement("h2",null,"About me"),l.createElement("p",null,"I'm just a really passionate programmer that is currently delving on the misteries of the frontend side of web apps. It's a mess, but it is also so much fun!"),l.createElement("p",null,"I'm from ",l.createElement("b",null,"Spain"),", and currently living on ",l.createElement("b",null,"Madrid"),", doing web-stuff and trying to learn new things every day. My career has gone from developing ",l.createElement("b",null,".Net WebForms")," to ",l.createElement("b",null,".NET MVC")," web sites and finally making my escape to the front lines."),l.createElement("p",null,"After some experiments with different frameworks, I found out that"," ",l.createElement("b",null,"React")," is the one I enjoy the best to use whenever I need a web application. And yeah, I know it's not a framework, it's a library. And yeah, I'd say that's the very reason I love it."),l.createElement("section",null,l.createElement("p",null,"If you want to know more about me, you may look at any of the next resources:"),l.createElement("ul",null,l.createElement("li",null,l.createElement("a",{href:"https://www.linkedin.com/in/gonzalo-arrivi-duarte-19645724/"},"LinkedIn")),l.createElement("li",null,l.createElement("a",{href:"https://codepen.io/Toujimon/"},"Codepen.io")),l.createElement("li",null,l.createElement("a",{href:"https://github.com/Toujimon"},"GitHub")),l.createElement("li",null,l.createElement("a",{href:"https://stackoverflow.com/users/859825/gonarrivi"},"StackOverflow")))),l.createElement("h2",null,"About this site"),l.createElement("p",null,"This site was created as my own sandbox to test different web related things creating little apps for my enjoyment. In this case using"," ",l.createElement("b",null,"React")," as the main frontend library (because I just love making components) and the amazing",l.createElement("b",null,"styled-components")," library to provide the styling (no CSS files around here, folks!)."))},W=n(27),Y=n(28),K=n(30),$=n(29),Q=n(31);function X(){var e=Object(c.a)(["\n  ","\n  ","\n"]);return X=function(){return e},e}function Z(){var e=Object(c.a)(["\n  position: relative;\n  ","\n  padding-bottom: ",";\n"]);return Z=function(){return e},e}function ee(){var e=Object(c.a)(["\n  position: absolute;\n  height: ",";\n  right: 0;\n  bottom: 0;\n"]);return ee=function(){return e},e}var te=/(\d+)(\.\d*)?([a-z]+)?/,ne=Object(d.c)(C)(ee(),(function(e){var t=e.lineHeight;return"".concat(t.value).concat(t.unit)})),ae=d.c.div(Z(),(function(e){return!e.lineHeight&&"overflow: hidden; height: 0;"}),(function(e){var t=e.isExpanded,n=e.lineHeight;return t&&n&&""+n.value+n.unit||"0"})),re=d.c.div(X(),(function(e){var t=e.lineHeight;return t&&"line-height: "+t.value+t.unit+";"}),(function(e){var t=e.lineHeight,n=e.isExpanded,a=e.maxLines;return t&&!n&&"max-height: "+a*t.value+t.unit+";overflow: hidden;"})),ce=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={lineHeight:null,isExpanded:!1,showExpansionToggle:!1},n._contentRef=i.a.createRef(),n._refreshExpansionToggleState=function(){var e=n.state,t=e.lineHeight,a=e.showExpansionToggle,r=n.props.maxLines;if(t){var c=n._contentRef.current.getBoundingClientRect(),o=c.bottom-c.top>t.value*r;o!==a&&n.setState({showExpansionToggle:o})}},n._handleExpansionToggle=function(){n.setState((function(e){return{isExpanded:!e.isExpanded}}))},n.componentDidUpdate=function(e){n._refreshExpansionToggleState()},n}return Object(Q.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.getComputedStyle(this._contentRef.current),n=function(){var e=te.exec(t.getPropertyValue("line-height"))||te.exec(t.getPropertyValue("font-size"));return{value:e[1],unit:e[3]||""}}();this.setState({lineHeight:n},(function(){e._refreshExpansionToggleState(),window.addEventListener("resize",e._refreshExpansionToggleState)}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._refreshExpansionToggleState)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.maxLines,a=e.renderExpansionElement,r=this.state,c=r.lineHeight,o=r.isExpanded,l=r.showExpansionToggle;return i.a.createElement(ae,{lineHeight:c,isExpanded:o},i.a.createElement(re,{lineHeight:c,isExpanded:o,maxLines:n},i.a.createElement("div",{ref:this._contentRef},t)),l&&a(c,o,this._handleExpansionToggle))}}]),t}(i.a.Component);ce.defaultProps={renderExpansionElement:function(e,t,n){return i.a.createElement(ne,{primary:!0,lineHeight:e,onClick:n},t?"Show less":"Show more")}};var oe=n(190),le=n(55),ie=n(38);function ue(){var e=Object(c.a)(["\n  border-radius: 0;\n  align-self: stretch;\n  border: 0;\n  border-left: 1px solid rgba(0, 0, 0, 0.5);\n"]);return ue=function(){return e},e}function se(){var e=Object(c.a)(["\n  ","\n  border-top: 1px solid black;\n  justify-content: flex-end;\n"]);return se=function(){return e},e}function me(){var e=Object(c.a)(["\n  padding: 8px;\n  flex: 1 1 auto;\n  height: 100%;\n  overflow: auto;\n"]);return me=function(){return e},e}function he(){var e=Object(c.a)(["\n  ","\n  ","\n  padding: 0 8px;\n  text-transform: uppercase;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.5);\n"]);return he=function(){return e},e}function de(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  box-sizing: border-box;\n  width: 100%;\n"]);return de=function(){return e},e}var fe=Object(d.c)(g.a)(de()),ge="\n  height: 40px;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n",pe=d.c.header(he(),ge,(function(e){var t=e.theme;return"\n  background-color: ".concat(t.primary,";\n  color: ").concat(t.textOverPrimary,";\n  ")}));pe.defaultProps={theme:x};var be=d.c.div(me()),ve=d.c.footer(se(),ge),Ee=Object(d.c)(C)(ue());var ye=function(e){var t=e.children,n=e.title,a=e.commands,r=Object(ie.a)(e,["children","title","commands"]);return i.a.createElement(fe,r,!!n&&i.a.createElement(pe,null,n),i.a.createElement(be,null,t),!!a&&!!a.length&&i.a.createElement(ve,null,a.map((function(e,t){var n=e.title,a=e.onInvoke,r=e.key,c=Object(ie.a)(e,["title","onInvoke","key"]);return i.a.createElement(Ee,Object.assign({key:r||t,title:n,onClick:a},c),n)}))))};function Oe(e,t,n){var a=e[t];return[].concat(Object(le.a)(e.slice(0,t)),[n(a)],Object(le.a)(e.slice(t+1)))}var xe=n(40),je=n(35);function ke(){var e=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: ","px;\n  width: ","px;\n  font-size: ","px;\n  border: 1px solid black;\n  border-radius: 4px;\n  background-color: white;\n  color: #333;\n"]);return ke=function(){return e},e}var Ce=d.c.span(ke(),(function(e){var t=e.size;return Math.max(t,0)||40}),(function(e){var t=e.size;return Math.max(t,0)||40}),(function(e){var t=e.size;return Math.floor(3*(Math.max(t,0)||40)/4)})),Se=function(e){var t=e.value,n=Object(ie.a)(e,["value"]),a=function(e){return Math.min(Math.max(isNaN(e)?0:Number(e),1),6)}(t);return l.createElement(Ce,Object.assign({},n,{title:""+a}),a<3?l.createElement(xe.a,{icon:je.b}):a>4?l.createElement(xe.a,{icon:je.d}):l.createElement(xe.a,{icon:je.g}))};function we(){var e=Object(c.a)(["\n          cursor: pointer;\n          &:hover {\n            animation: "," 0.8s linear infinite;\n          }\n        "]);return we=function(){return e},e}function Me(){var e=Object(c.a)(["\n  ","\n  ","\n"]);return Me=function(){return e},e}function _e(){var e=Object(c.a)(["\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100%{\n    transform: scale(1);\n  }\n"]);return _e=function(){return e},e}function Ae(){var e=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n"]);return Ae=function(){return e},e}var Ie=d.c.span(Ae()),Re=Object(d.d)(_e()),Te=Object(d.c)(Se)(Me(),(function(e){return e.onClick?Object(d.b)(we(),Re):""}),(function(e){var t=e.selected,n=e.theme;return t?"background-color: ".concat(Object(p.b)(.3,n.primary),";"):""}));Te.defaultProps={theme:x};var Be=function(e){var t=e.dice,n=e.onDieSelect;return l.createElement(Ie,null,l.createElement("span",null,t.map((function(e,t){return l.createElement(Te,{key:t,value:e.value,selected:e.selected,onClick:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n.apply(void 0,[t].concat(a))}})}))))};function Ne(){var e=Object(c.a)(["\n  line-height: ","px;\n  font-size: ","px;\n"]);return Ne=function(){return e},e}function Pe(){var e=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n"]);return Pe=function(){return e},e}var Le=d.c.span(Pe()),He=d.c.span(Ne(),40,Math.floor(30));function De(e){var t=e.dice,n=e.selectedSkill,a=e.rollId,r=e.onDieSelect,c=e.rerollCount,o=e.onSelectedDiceReroll,l=e.onRoll,u=e.onClear,s=Object(ie.a)(e,["dice","selectedSkill","rollId","onDieSelect","rerollCount","onSelectedDiceReroll","onRoll","onClear"]),m=(t||[]).reduce((function(e,t){var n=t.value;return e+(n<3?-1:n>4?1:0)}),0),h=m+(n?n.value:0),d=(t||[]).some((function(e){return e.selected}));return i.a.createElement(ye,Object.assign({},s,{title:n?"".concat(n.name," +").concat(n.value):"--No selected skill--",commands:[{title:"Clear",onInvoke:u,key:"clear"},{title:t?"New roll":"Roll!",onInvoke:l,key:"roll",primary:!0}].concat(d?{title:"re-roll selected dice",onInvoke:o,key:"reroll",primary:!0}:[])}),t?i.a.createElement(Le,null,i.a.createElement(Be,{rollId:a,dice:t,onDieSelect:r}),i.a.createElement(He,null,"\xa0=\xa0","".concat(m).concat(n?" + ".concat(n.value," = ").concat(h):"")),i.a.createElement("span",null,"(Re-rolls: ",c,")")):i.a.createElement(i.a.Fragment,null,i.a.createElement(He,null,"Roll the dice!")))}var Fe=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={dice:null,rollCount:0,rerollCount:0,selectedSkillIndex:-1},n._handleRoll=function(e){n.setState((function(e){return{dice:Array.from({length:4}).map((function(e,t){return{value:ze(),rerollCount:0,selected:!1}})),rollCount:e.rollCount+1,rerollCount:0}}))},n._handleSelectedDiceReroll=function(e){n.setState((function(e){return{dice:e.dice.map((function(e){return e.selected?{value:ze(),rerollCount:e.rerollCount+1,selected:!1}:e})),rerollCount:e.rerollCount+1}}))},n._handleClear=function(e){n.setState({dice:null})},n._handleDieSelect=function(e){n.setState((function(t){return{dice:Oe(t.dice,e,(function(e){return Object(o.a)({},e,{selected:!e.selected})}))}}))},n._handleSelectedSkillIndexChange=function(e){var t=n.state.selectedSkillIndex,a=Number(e.currentTarget.value);t!==a&&n.setState({selectedSkillIndex:a,dice:null,rollCount:0})},n}return Object(Q.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.skills,n=this.state,a=n.dice,r=n.rollCount,c=n.rerollCount,o=n.selectedSkillIndex,l=t[o];return i.a.createElement(k,this.props,i.a.createElement(De,{dice:a,selectedSkill:l,onRoll:this._handleRoll,onDieSelect:this._handleDieSelect,onSelectedDiceReroll:this._handleSelectedDiceReroll,onClear:this._handleClear,rollId:"".concat(o,"-").concat(r),rerollCount:c}),i.a.createElement(k,null,i.a.createElement("header",null,"Skills"),i.a.createElement("ul",null,[{name:"--None--",value:0}].concat(Object(le.a)(t)).map((function(t,n){return i.a.createElement("li",{key:n},i.a.createElement("label",null,i.a.createElement("input",{name:"skill",value:n-1,checked:o===n-1,type:"radio",onChange:e._handleSelectedSkillIndexChange}),i.a.createElement("span",null,"".concat(t.name," (+").concat(t.value,")"))))})))))}}]),t}(i.a.Component);function ze(){return 1+Math.floor(6*Math.random())}function Ue(){var e=Object(c.a)(["\n  display: none;\n"]);return Ue=function(){return e},e}var Ve=Object(d.c)(k)(Ue()),Je=function(e){return i.a.createElement(g.a,e)},Ge=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state=Object(o.a)({id:{name:"",description:""},aspects:{highConcept:null,problem:null,others:[]},skills:Array.from({length:4}).reduce((function(e,t,n){return e.concat(Array.from({length:n+1}).map((function(e,t){return{value:4-n,name:""}})))}),[]),stunts:[],extras:[],stressTracks:{physical:2,mental:2},consequences:[null,null,null]},n.props.defaultValues),n._handleNameChange=function(e){var t=e.currentTarget.value;n.setState((function(e){return{id:Object(o.a)({},e.id,{name:t})}}))},n._handleSkillNameChange=function(e,t){var a=t.currentTarget.value;n.setState((function(t){return{skills:Oe(t.skills,e,(function(e){return Object(o.a)({},e,{name:a})}))}}))},n._handleSubmit=function(e){var t=n.props.onSubmit;e.preventDefault(),t&&t(Object(o.a)({},n.state,{skills:n.state.skills.filter((function(e){return e.name}))}),e)},n}return Object(Q.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onSubmit,t.defaultValues,Object(ie.a)(t,["onSubmit","defaultValues"])),a=this.state,r=a.id,c=a.skills.reduce((function(e,t,n){return e[t.value]||(e[t.value]=[]),e[t.value].push({id:n,name:t.name}),e}),{});return i.a.createElement(ye,Object.assign({},n,{commands:[{title:"Save",onInvoke:this._handleSubmit}]}),i.a.createElement("form",{onSubmit:this._handleSubmit},i.a.createElement(Je,null,i.a.createElement("header",null,"Id"),i.a.createElement("label",null,i.a.createElement("input",{type:"text",placeholder:"Name",value:r.name,onChange:this._handleNameChange}))),i.a.createElement(Ve,null,i.a.createElement("header",null,"Aspects"),i.a.createElement("div",null,"Aspects component")),i.a.createElement(k,null,i.a.createElement("header",null,"Skills"),i.a.createElement("ul",null,Object.keys(c).sort((function(e,t){return 0+t-e})).map((function(t){return i.a.createElement("li",{key:t},"+ ",t,i.a.createElement("ul",null,c[t].map((function(t){return i.a.createElement("li",{key:t.id},i.a.createElement("input",{type:"text",value:t.name,onChange:function(n){return e._handleSkillNameChange(t.id,n)}}))}))))})))),i.a.createElement(Ve,null,i.a.createElement("header",null,"Stunts"),i.a.createElement("div",null,"Stunts Component")),i.a.createElement(Ve,null,i.a.createElement("header",null,"Extras"),i.a.createElement("div",null,"Extras Component")),i.a.createElement(Ve,null,i.a.createElement("header",null,"Stress"),i.a.createElement("div",null,"Stress Component")),i.a.createElement(Ve,null,i.a.createElement("header",null,"Consequences"),i.a.createElement("div",null,"Consequences Component"))))}}]),t}(i.a.Component);function qe(){var e=Object(c.a)(["\n  height: 40px;\n  width: 100%;\n"]);return qe=function(){return e},e}function We(){var e=Object(c.a)(["\n  flex: 1 1 auto;\n  :not(:first-child) {\n    margin-top: 8px;\n  }\n"]);return We=function(){return e},e}function Ye(){var e=Object(c.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  overflow: hidden;\n"]);return Ye=function(){return e},e}var Ke=d.c.ul(Ye());Ke.Item=d.c.li(We()),Ke.Item.Button=Object(d.c)(C)(qe()),Ke.Item.Button.defaultProps={theme:x};var $e=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={selectionMethod:null,existingCharacters:function(){if(localStorage){var e=localStorage.getItem("MY_FATE_CHARACTERS");if(e)try{return JSON.parse(e)}catch(t){localStorage.removeItem("MY_FATE_CHARACTERS")}}return null}()||[]},n._handleNewClick=function(){return n.setState({selectionMethod:"new"})},n._handleExistingClick=function(){return n.setState({selectionMethod:"existing"})},n._handleSelectionReset=function(){return n.setState({selectionMethod:null})},n._handleNewCharacterSubmit=function(e){var t=n.props.onSubmit,a=n.state.existingCharacters,r=e.id.name;r?a.some((function(e){return e.id.name===r}))?alert("There is an already existing character with that name"):n.setState((function(t){return{existingCharacters:t.existingCharacters.concat(Object(o.a)({},e))}}),(function(){localStorage&&localStorage.setItem("MY_FATE_CHARACTERS",JSON.stringify(n.state.existingCharacters)),t(e)})):alert("Every character needs a name")},n}return Object(Q.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selectionMethod,n=e.existingCharacters,a=this.props.onSubmit;return i.a.createElement(ye,{commands:t?[{title:"Go back",onInvoke:this._handleSelectionReset}]:[{title:"Load an existing character",disabled:!n.length,onInvoke:this._handleExistingClick},{title:"create a new character",onInvoke:this._handleNewClick,primary:!0}]},i.a.createElement("h2",null,t?"new"===t?"Nice! Make it your own!":"Cool! Here they are for you to choose from":"Want to play? first you'll need a character..."),t&&i.a.createElement(i.a.Fragment,null,"new"===t?i.a.createElement(Ge,{onSubmit:this._handleNewCharacterSubmit}):i.a.createElement(Ke,null,Object(le.a)(n).map((function(e,t){return i.a.createElement(Ke.Item,{key:t},i.a.createElement(Ke.Item.Button,{onClick:function(){return a(e)}},e.id.name))})))))}}]),t}(i.a.Component),Qe=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={selectedCharacter:null},n._handleCharacterSubmit=function(e){n.setState({selectedCharacter:e})},n._handleCharacterChangeRequest=function(){n.setState({selectedCharacter:null})},n}return Object(Q.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=Object(oe.a)({},this.props),t=this.state.selectedCharacter;return i.a.createElement(ye,Object.assign({title:"Fate manager"},e),t?i.a.createElement(i.a.Fragment,null,i.a.createElement("header",null,"You are playing with: ",i.a.createElement("b",null,t.id.name),"\xa0",i.a.createElement(C,{onClick:this._handleCharacterChangeRequest},"Change character")),i.a.createElement(Fe,{skills:t.skills})):i.a.createElement($e,{onSubmit:this._handleCharacterSubmit}))}}]),t}(i.a.Component);function Xe(){var e=Object(c.a)(["\n  margin: 0;\n"]);return Xe=function(){return e},e}var Ze=d.c.ul(Xe()),et=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={strSkills:localStorage&&localStorage.getItem("FATE_CORE_SKILLS_TABLE")||null},n._canSetState=!0,n}return Object(Q.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this;null===this.state.strSkills&&fetch("https://fate-srd.com/fate-core/default-skill-list").then((function(e){return e.text()})).then((function(e){return(new DOMParser).parseFromString(e,"text/html")})).then((function(t){var n=t.querySelector(".skill-list");if(!n)throw new Error("FATE CORE skill table element not found");var a=n.innerHTML;localStorage&&localStorage.setItem("FATE_CORE_SKILLS_TABLE",a),e._canSetState&&e.setState({strSkills:a})})).catch((function(t){console.error(t),e.setState({strSkills:""})}))}},{key:"componentWillUnmount",value:function(){this._canSetState=!1}},{key:"render",value:function(){var e=this.state.strSkills;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"FATE CORE Utils"),i.a.createElement("p",null,"A little project to test the different libraries and React related technologies with a more specific target in mind, in this case, utility tools for the FATE CORE role-playing-game system."),i.a.createElement(k,null,i.a.createElement("h3",null,"Some use cases to cover"),i.a.createElement(ce,{maxLines:2},i.a.createElement(Ze,null,i.a.createElement("li",null,"Create new character"),i.a.createElement("li",null,"Set a created character as the current character"),i.a.createElement("li",null,"Unset the current character"),i.a.createElement("li",null,"Make skill check (throw dice) using one of the current character's skills"),i.a.createElement("li",null,"Re-roll some dice from current skill check"),i.a.createElement("li",null,"Add bonus to current skill check")))),null!==e?i.a.createElement(Qe,null):"Something is loading...")}}]),t}(i.a.Component),tt=n(410),nt=n(411),at=n(417),rt=n(419),ct=n(412),ot=n(66);function lt(){var e=Object(c.a)(["\n  white-space: nowrap;\n"]);return lt=function(){return e},e}function it(){var e=Object(c.a)(["\n  flex: 1 1 auto;\n"]);return it=function(){return e},e}function ut(){var e=Object(c.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return ut=function(){return e},e}function st(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{variant:"h2"},"Epic Cafe Manager"),i.a.createElement(F.a,{variant:"subtitle1"},"Management tools for the Epic Cafe game's catalog"),i.a.createElement(k,null,i.a.createElement(F.a,{variant:"h3"},"Board Game Geek matcher tool"),i.a.createElement(F.a,{variant:"subtitle2"},"A tool to properly match the diferent entries of the Epic Cafe catalog to the well known Board Game Geek database entries, so extra meta-data about the different games can be retrieved."),i.a.createElement(mt,null)))}var mt=Object(ot.withAuth)((function(e){var t=e.auth,n=i.a.useState([null,!0]),a=Object(r.a)(n,2),c=Object(r.a)(a[0],2),l=c[0],u=c[1],s=a[1];function m(){s([l,!0])}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getAccessToken().then((function(t){return fetch("//".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/gonarrivi-sandbox"}).REACT_APP_API_HOST).concat(e),Object(o.a)({},n,{headers:Object(o.a)({},n.headers,{Authorization:"Bearer ".concat(t)})}))}))}return i.a.useEffect((function(){u&&h("/api/catalog").then((function(e){return e.json().then((function(e){return e})).then((function(e){var t=e.epicCatalog,n=e.bggCatalog,a=e.epicBggJoin;return t.map((function(e){var t=e.id,r=e.name,c=e.players,o=e.age,l=e.coordinates;return{id:t,name:r,players:"range"===c.type||"min"===c.type?"".concat(c.min," - ").concat(c.max||""):c.type,age:o,coordinates:l,bggMatchId:a[t].bggMatchId,foundBggMatches:a[t].foundBggMatches&&a[t].foundBggMatches.map((function(e){return n[e]}))}}))}))})).catch((function(e){return console.log(e),[]})).then((function(e){!function(e){s([e,!1])}(e)}))}),[u]),null===l?"Loading catalog information, may take a while...":i.a.createElement(pt,{games:l,onEpicBggMatchConfirm:function(e,t){h("/api/catalog",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,bggMatchId:t})}).then((function(e){200===e.status?m():console.error("Error while trying to update data:",e.statusText)}))},onEpicBggMatchesClean:function(e){h("/api/catalog",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(e){200===e.status?m():console.error("Error while trying to clean matches:",e.statusText)}))},onEpicBggMatchAdd:function(e,t){h("/api/catalog",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,bggMatchId:t})}).then((function(e){200===e.status?m():console.error("Error while trying to update data:",e.statusText)}))}})})),ht=[["All",null],["No matches",function(e){return!e.foundBggMatches||!e.foundBggMatches.length}],["Just one match",function(e){return e.foundBggMatches&&1===e.foundBggMatches.length}],["Multiple matches (2 .. 5)",function(e){return e.foundBggMatches&&e.foundBggMatches.length>1&&e.foundBggMatches.length<6}],["Multiple matches (6 ... 10)",function(e){return e.foundBggMatches&&e.foundBggMatches.length>5&&e.foundBggMatches.length<11}],["Multiple matches (11 ... 20)",function(e){return e.foundBggMatches&&e.foundBggMatches.length>10&&e.foundBggMatches.length<21}],["Multiple matches (21 ... 50)",function(e){return e.foundBggMatches&&e.foundBggMatches.length>20&&e.foundBggMatches.length<51}],["Multiple matches (51 ... )",function(e){return e.foundBggMatches&&e.foundBggMatches.length>51}]],dt=[["All",null],["Not confirmed",function(e){return!e.bggMatchId}],["Confirmed",function(e){return!!e.bggMatchId}]],ft=ht.map((function(e){var t=Object(r.a)(e,2)[1];return dt.map((function(e){var n=Object(r.a)(e,2)[1];return function(e){return(!t||t(e))&&(!n||n(e))}}))})),gt=Object(d.c)(tt.a)(ut());function pt(e){var t=e.games,n=e.onEpicBggMatchConfirm,a=e.onEpicBggMatchesClean,c=e.onEpicBggMatchAdd,o=i.a.useState([0,0,0]),l=Object(r.a)(o,2),u=Object(r.a)(l[0],3),s=u[0],m=u[1],h=u[2],d=l[1],f=function(e){return d([e,m,h])},g=(ft[m]||[])[h]||null,p=i.a.useMemo((function(){var e=g?t.filter(g):t;return[e.slice(50*s,50*(s+1)),e.length]}),[t,s,g]),b=Object(r.a)(p,2),v=b[0],E=b[1];return i.a.useEffect((function(){s>0&&!v.length&&f(0)}),[v,s]),i.a.createElement(k,null,i.a.createElement(tt.a,{container:!0},i.a.createElement(tt.a,{item:!0,md:8},i.a.createElement(nt.a,null,i.a.createElement(at.a,{value:m,native:!0,onChange:function(e){return function(e){return d([0,e,h])}(Number(e.currentTarget.value))}},ht.map((function(e,t){var n=Object(r.a)(e,1)[0];return i.a.createElement("option",{key:t,value:t},n)}))),i.a.createElement(at.a,{value:h,native:!0,onChange:function(e){return function(e){return d([0,m,e])}(Number(e.currentTarget.value))}},dt.map((function(e,t){var n=Object(r.a)(e,1)[0];return i.a.createElement("option",{key:t,value:t},n)}))))),i.a.createElement(tt.a,{item:!0,md:4,xs:12},i.a.createElement(rt.a,{component:"div",count:E,rowsPerPage:50,rowsPerPageOptions:[50],page:s,onChangePage:function(e,t){return f(t)}}))),i.a.createElement("ul",null,v.map((function(e){var t=e.id,r=e.name,o=e.players,l=e.age,u=e.bggMatchId,s=e.foundBggMatches;return i.a.createElement(gt,{container:!0,component:"li",key:t},i.a.createElement(tt.a,{component:nt.a,item:!0,xs:12,md:5},i.a.createElement("div",null,i.a.createElement(F.a,null,r),i.a.createElement(F.a,{variant:"caption"},"Players: ",o,", Age: ",l))),i.a.createElement(tt.a,{component:nt.a,item:!0,xs:12,md:1},u?i.a.createElement(ct.a,{onClick:function(){return window.open("https://boardgamegeek.com/boardgame/".concat(u),"epicBggMatchViewer","titlebar=no")}},i.a.createElement(xe.a,{icon:je.a})):i.a.createElement(F.a,null,"None")),i.a.createElement(tt.a,{item:!0,xs:12,md:6},i.a.createElement(Et,{matches:s||[],currentMatch:u,onMatchConfirm:function(e){return n(t,e)},onMatchesClean:function(){return a(t)},onMatchAdd:function(e){return c(t,e)}})))}))))}var bt=Object(d.c)(at.a)(it()),vt=Object(d.c)(L.a)(lt());function Et(e){var t=e.matches,n=e.currentMatch,a=void 0===n?null:n,c=e.onMatchConfirm,o=e.onMatchesClean,l=e.onMatchAdd,u=i.a.useState(a||t.length&&t[0].id||null),s=Object(r.a)(u,2),m=s[0],h=s[1];return i.a.createElement(nt.a,null,t.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(bt,{value:m||"",native:!0,onChange:function(e){return h(e.currentTarget.value||null)}},i.a.createElement("option",{value:""}),t.map((function(e){var t=e.id,n=e.name,a=e.yearpublished;return i.a.createElement("option",{key:t,value:t},"string"===typeof n[0]?n[0]:n[0]._," (",a?a[0]:"???",")")}))),i.a.createElement(ct.a,{onClick:function(){return window.open("https://boardgamegeek.com/boardgame/".concat(m),"bggMatchViewer","titlebar=no")}},i.a.createElement(xe.a,{icon:je.a})),m!==a?i.a.createElement(vt,{onClick:function(){return c(m)}},m?"Confirm match":"Remove current match"):i.a.createElement(L.a,{onClick:function(){return o()}},"Clean matches")):i.a.createElement(F.a,null,a?"Match already confirmed":"No matches found"," ",i.a.createElement(xe.a,{icon:a?je.f:je.e})),i.a.createElement(ct.a,{onClick:function(e){var t=prompt("Add a new game match");t&&l(t)}},i.a.createElement(xe.a,{icon:je.c})))}var yt=n(194),Ot=n.n(yt);function xt(){var e=Object(c.a)(["\n  width: 120px;\n  height: 120px;\n"]);return xt=function(){return e},e}function jt(){var e=Object(c.a)(["\n  ","\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 24px;\n  text-align: center;\n  ","\n"]);return jt=function(){return e},e}function kt(){var e=Object(c.a)(["\n  flex: 0 0 auto;\n  margin-left: auto;\n"]);return kt=function(){return e},e}function Ct(){var e=Object(c.a)(["\n  flex-direction: row;\n"]);return Ct=function(){return e},e}var St={issuer:"https://dev-341005.okta.com/oauth2/default",redirectUri:window.location.origin+"/gonarrivi-sandbox/implicit/callback",clientId:"0oa249gcgj2McxEJn4x6",pkce:!0},wt=!!Object({NODE_ENV:"production",PUBLIC_URL:"/gonarrivi-sandbox"}).REACT_APP_API_HOST,Mt=Object(o.a)({},x,{primary:"#199e57"}),_t=Object(d.c)(B.a)(Ct()),At=Object(d.c)(N.a)(kt()),It=d.c.div(jt(),(function(e){return e.background?"background-image: url(".concat(e.background,");\n      background-size: cover;"):"background-color: transparent;"}),(function(e){var t=e.textColor;return t?"color: ".concat(t,";"):""})),Rt=Object(d.c)(P.a)(xt());function Tt(e){var t=e.isAuthenticated,n=e.onLogin,a=e.onLogout;return t?i.a.createElement(L.a,{onClick:a},"Logout"):i.a.createElement(L.a,{onClick:n},"Login")}var Bt=Object(ot.withAuth)((function(e){var t=e.auth,n=i.a.useState(null),a=Object(r.a)(n,2),c=a[0],o=a[1],l=i.a.useState(null),u=Object(r.a)(l,2),s=u[0],h=u[1];return i.a.useEffect((function(){t.isAuthenticated().then((function(e){e!==c&&o(e)}))})),i.a.useEffect((function(){if(c&&!s){var e=Ot.a.connect(Object({NODE_ENV:"production",PUBLIC_URL:"/gonarrivi-sandbox"}).REACT_APP_API_HOST);e.on("new-connection",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("Someone connected",t)})),h(e),e.on("connect",(function(){t.getAccessToken().then((function(t){e.emit("identify",{token:t},(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("ack from the server after identificating",t)}))}))}))}else!c&&s&&(s.close(),h(null))}),[c,s]),null===c?null:i.a.createElement(d.a,{theme:Mt},i.a.createElement(H.a,null,i.a.createElement(_t,{position:"sticky"},i.a.createElement(m.Route,{path:"/:subPath?"},(function(e){var t=e.match,n=e.history;return i.a.createElement(At,{value:t.params.subPath||"",onChange:function(e,t){return n.push("/".concat(t))}},i.a.createElement(D.a,{value:"",label:"Home"}),i.a.createElement(D.a,{value:"fate-core-utils",label:"FATE CORE Utils"}),!(!c||!wt)&&i.a.createElement(D.a,{value:"epic-cafe-manager",label:"Epic Cafe Manager"}))})),null!==c&&i.a.createElement(Tt,{isAuthenticated:c,onLogin:function(){return t.login("/")},onLogout:function(){return t.logout("/")}})),i.a.createElement(m.Route,{exact:!0,path:"/",render:function(){return i.a.createElement(It,{background:V.a,textColor:"white"},i.a.createElement(F.a,{gutterBottom:!0,variant:"h3"},"Gonzalo Arrivi's Sandbox"),i.a.createElement(Rt,{src:G.a}))}}),i.a.createElement(z.a,null,i.a.createElement(m.Switch,null,i.a.createElement(m.Route,{exact:!0,path:"/",component:q}),i.a.createElement(m.Route,{path:"/fate-core-utils",component:et}),!(!c||!wt)&&i.a.createElement(m.Route,{path:"/epic-cafe-manager",component:st}),i.a.createElement(m.Route,{render:function(e){var t=e.location;return i.a.createElement("p",null,"404 page not found: ",t.pathname)}})))))}));var Nt=document.getElementById("root");s.a.render(i.a.createElement((function(){return i.a.createElement(h.a,{basename:"/gonarrivi-sandbox"},i.a.createElement(ot.Security,St,i.a.createElement(m.Switch,null,i.a.createElement(m.Route,{path:"/implicit/callback",exact:!0,component:ot.ImplicitCallback}),i.a.createElement(m.Route,{component:Bt}))))}),null),Nt)}},[[201,1,2]]]);
//# sourceMappingURL=main.b1a16dc6.chunk.js.map